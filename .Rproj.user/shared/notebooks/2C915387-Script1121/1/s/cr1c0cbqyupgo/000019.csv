"0","data <- read.csv('trains_train.csv') %>% "
"0","  filter(!(to %in% c(""000000000"", ""(null)""))) %>% "
"0","  filter(!(from %in% c(""(null)""))) %>%"
"0","  mutate("
"0","    OD = paste(from, to, sep = ""/""),"
"0","    type = ifelse("
"0","      str_detect(vehicle, ""[A-Za-z]""),"
"0","      str_extract(vehicle, ""^[A-Za-z]+""),"
"0","      ""Extra"""
"0","    ),"
"0","    occupancy_numeric = case_when("
"0","      occupancy == ""high"" ~ 2,"
"0","      occupancy == ""medium"" ~ 1,"
"0","      occupancy == ""low"" ~ 0)"
"0","  ) %>%"
"0","  dplyr::select(-connection, -occupancy)"
